var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");var QuinenCake=QuinenCake||{};
(function(){this.onLoad=function(){this.listenOnCloseTabLink();this.updateFromInputValue();this.listenOnClearForm();this.listenOnDropdownMenu();this.initSelect2();this.initDatepicker();this.listenForLoading();this.initPopover()};this.onBeforeSendAjaxLink=function(a,b){a=$(a.currentTarget);a.data("oldHtml",a.html());a.html('<i class="fa fa-circle-notch fa-spin fa-lg"></i>')};this.onSuccessAjaxLink=function(a,b,c,d){a=$(a.currentTarget);0<b.length?a.html(b):a.html(a.data("oldHtml"))};this.onErrorAjaxLink=
function(a,b,c,d){403==b.status&&document.location.reload(!0);$(a.currentTarget).html(b.status+" ("+d+")")};this.onBeforeSendTabLink=function(a,b){var c=$(a.currentTarget),d=c.attr("id");if(0<$("#t-"+d).length)return"1"==c.data("showOnClick")&&$("#t-"+d+" > a").tab("show"),!1;QuinenCake.onBeforeSendAjaxLink(a,b);return!0};this.onSuccessTabLink=function(a,b,c,d){var e=$(a.currentTarget),f=e.attr("id");if(0==$("#t-"+f).length){var g=e.parents(".card:first").find("ul.card-header-tabs:first"),h=$("#c-"+
g.attr("id")),k=$('<li class="nav-item" id="t-'+f+'"><a href="#" data-toggle="tab" data-target="#c-'+f+'" class="nav-link"><span>'+e.data("oldHtml")+'</span>&nbsp;<button data-remove="'+f+'" type="button" class="close" aria-label="Fermer"><span aria-hidden="1"><i class="fa fa-times fa-fw"></i></span></button></a></li>');b=$('<div class="tab-pane" id="c-'+f+'">'+b+"</div>");g.append(k);h.append(b);g=$("#c-"+f).find(".tab-link-title").html();"undefined"!==typeof g&&0<g.length&&$("#t-"+f+" > a > span").html(g);
e.data("showOnClick")&&$("#t-"+f+" > a").tab("show")}QuinenCake.onSuccessAjaxLink(a,"",c,d)};this.listenOnCloseTabLink=function(){$("ul.nav-tabs").on("click","li a .close",function(){var a=$(this).data("remove"),b=$(this).parents("ul:first");$("#t-"+a).remove();$("#c-"+a).remove();b.find("li:last-child a").tab("show")})};this.onBeforeSendTrLink=function(a,b){var c=$(a.currentTarget);if(c.data("isNextTr"))return c.data("isNextTr",!1),c.closest("tr").next().remove(),"undefined"!==typeof c.data("newTrHtml")&&
(c.data("oldHtml",c.data("oldTrHtml")),QuinenCake.onSuccessAjaxLink(a,"",null,b)),!1;QuinenCake.onBeforeSendAjaxLink(a,b)};this.onSuccessTrLink=function(a,b,c,d){var e=$(a.currentTarget),f=e.closest("tr"),g=f.children().length;e.data("isNextTr",!0);f.after('<tr><td colspan="'+g+'">'+b+"</td></tr>");"undefined"!==typeof e.data("newTrHtml")&&(e.data("oldTrHtml",e.data("oldHtml")),e.data("oldHtml",e.data("newTrHtml")));QuinenCake.onSuccessAjaxLink(a,"",c,d);return!0};this.onBeforeSendModalLink=function(a,
b){var c=$(a.currentTarget);QuinenCake.onBeforeSendAjaxLink(a,b);c.data("size")&&$("#linkModal").find(".modal-dialog").addClass("modal-"+c.data("size"))};this.onSuccessModalLink=function(a,b,c,d){QuinenCake.onSuccessAjaxLink(a,"",c,d);$("#linkModal").find(".modal-body").html(b);$("#linkModal").modal({});return!0};this.redirectPaginatorLink=function(){$(document).on("click",".paginator-container a",function(){$(this).parents(".paginator-container:first").append('<div class="w-100 h-100 text-center position-absolute bg-secondary" style="top:0;opacity: .5"><br/><br/><br/><i class="fa fa-circle-notch fa-spin fa-10x"></i></div>');
var a=$(this).attr("href");if(!a||"#"==a)return!1;$(".paginator-container").load(a,function(){for(var a=this.getElementsByTagName("script"),c=0;c<a.length;c++)"undefined"!==typeof a[c]&&$.globalEval(a[c].innerHTML)});return!1})};this.drawChart=function(){$("[data-chart]").each(function(a,b){a=b.getContext("2d");return new Chart(a,JSON.parse(b.dataset.chart))})};this.initSelect2=function(){$("select").select2({theme:"bootstrap4",language:"fr",allowClear:!0,placeholder:"",dropdownAutoWidth:!0,escapeMarkup:function(a){return a},
templateResult:function(a){return a.html||a.text},templateSelection:function(a){return a.text}}).on("select2:opening",function(){QuinenCake.showLoading=!1}).on("select2:close",function(){QuinenCake.showLoading=!0}).maximizeSelect2Height()};this.updateFromInputValue=function(){$("[data-from-input-value]").each(function(a,b){a=document.getElementsByName(this.dataset.fromInputValue);$(a).keyup(function(a){b.innerHTML=a.target.value})})};this.listenOnClearForm=function(){$("[data-clear-form]").click(function(a){a=
a.target.form.elements;for(var b=0;b<a.length;b++){var c=a.item(b);switch(c.type){case "hidden":break;case "radio":c.checked=!1;default:c.value=""}}})};this.listenOnDropdownMenu=function(){$(".dropdown-menu .dropdown-toggle").on("click",function(a){$(this).next().hasClass("show")||$(this).parents(".dropdown-menu").first().find(".show").removeClass("show");$(this).next(".dropdown-menu").toggleClass("show");$(this).parents(".nav-item.dropdown.show").on("hidden.bs.dropdown",function(a){$(".dropdown-submenu .show").removeClass("show")});
return!1})};this.delayedMap=function(a,b,c){function d(){!a.length||e>=a.length||!1===c(a[e],e,a)||(++e,setTimeout(d,b))}var e=0;setTimeout(d,b)};this.getDatePlaceholder=function(a){var b=moment().locale(a)._locale;a=b._longDateFormat.L;var c=b._relativeTime.dd.split(" ")[1][0],d=b._relativeTime.MM.split(" ")[1][0];b=b._relativeTime.yy.split(" ")[1][0];return a.replace(/D/g,c).replace(/M/g,d).replace(/Y/g,b)};this.initDatepicker=function(){var a=QuinenCake.getDatePlaceholder("fr");$('[data-toggle="datetimepicker"]').each(function(){var b=
$(this),c=$(b.data("date")),d=null;c.val().length&&(d=new Date(c.val()));b.val(moment(d).format("L"));b.attr("placeholder",a);b.datetimepicker({format:"L",locale:"fr"});b.on("change.datetimepicker",function(a){var b="";"undefined"!==typeof a.date&&(b=a.date.toISOString(!0).split("T")[0]);c.val(b)});c.change(function(a){})})};this.startLoading=function(){QuinenCake.showLoading&&($("#loadingModal").modal({backdrop:"static"}),$("#loadingProgress").show())};this.stopLoading=function(){$("#loadingModal").modal("hide");
$("#loadingProgress").hide()};this.showLoading=!0;this.listenForLoading=function(){var a=this;$(document).ajaxStart(function(){a.startLoading()}).ajaxStop(function(){a.stopLoading()});$("form").submit(function(){a.startLoading()})};this.copyToClipboard=function(a){var b=document.createElement("textarea");b.value=a;b.setAttribute("readonly","");b.style.position="absolute";b.style.left="-9999px";document.body.appendChild(b);a=0<document.getSelection().rangeCount?document.getSelection().getRangeAt(0):
!1;b.select();document.execCommand("copy");document.body.removeChild(b);a&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(a))};this.initPopover=function(){$('[data-toggle="popover"]').popover();$('[data-toggle="popover"]').on("shown.bs.popover",function(){setTimeout(function(){$('[data-toggle="popover"]').popover("hide")},1E3)})}}).apply(QuinenCake);$(function(){QuinenCake.onLoad()});
moment.updateLocale("fr",{months:"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),monthsShort:"janv. f\u00e9vr. mars avr. mai juin juil. ao\u00fbt sept. oct. nov. d\u00e9c.".split(" "),monthsParseExact:!0,weekdays:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),weekdaysShort:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),weekdaysMin:"di lu ma me je ve sa".split(" "),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",
L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \u00e0] LT",nextDay:"[Demain \u00e0] LT",nextWeek:"dddd [\u00e0] LT",lastDay:"[Hier \u00e0] LT",lastWeek:"dddd [dernier \u00e0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,
ordinal:function(a,b){switch(b){case "D":return a+(1===a?"er":"");default:case "M":case "Q":case "DDD":case "d":return a+(1===a?"er":"e");case "w":case "W":return a+(1===a?"re":"e")}},week:{dow:1,doy:4}});
