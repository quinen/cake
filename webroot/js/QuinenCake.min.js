var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(c||"")+"_"+b++,c)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");var Quinen=Quinen||{},QuinenCake=QuinenCake||{};
(function(){this.copyToClipboard=function(a){var b=document,c=b.createElement("textarea");c.value=a;c.setAttribute("readonly","");c.style.position="absolute";c.style.left="-9999px";b.body.appendChild(c);a=0<b.getSelection().rangeCount?b.getSelection().getRangeAt(0):!1;c.select();b.execCommand("copy");b.body.removeChild(c);a&&(b.getSelection().removeAllRanges(),b.getSelection().addRange(a))};this.optionsDefault=function(a,b){a=a||{};for(var c in b)"undefined"===typeof a[c]&&(a[c]=b[c]);return a};this.uuid=
function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)})};this.contentOptions=function(a,b){var c={};Array.isArray(a)&&(c=a[1],a=a[0]);"undefined"===typeof a&&(a=b);return[a,c]};this.renderTable=function(a,b,c){a=a||[];b=b||[];c=c||{};Quinen.optionsDefault(c,{showHead:!0});var d=document.createElement("table"),e=function(a,b){a=a.createTHead();var c=a.insertRow();b=$jscomp.makeIterator(b);for(var d=
b.next();!d.done;d=b.next()){d=d.value;"undefined"!==typeof d.isNewLine&&!0===d.isNewLine&&(c=a.insertRow());var e=document.createElement("th"),g=document.createTextNode(d.label[0]),f;for(f in d.label[1])e.setAttribute(f,d.label[1][f]);e.appendChild(g);c.appendChild(e)}};b=function(a,b){0===a.length&&(a=Object.keys(b[0]));return a.map(function(a){if("string"===typeof a)a={label:a,field:a};else if("object"!==typeof a)throw"invalid map : ("+typeof a+")"+a;a.field=Quinen.contentOptions(a.field);a.label=
Quinen.contentOptions(a.label,a.field[0]);return a})}(b,a);(function(a,b,c){var d={};b=$jscomp.makeIterator(b);for(var e=b.next();!e.done;d={$jscomp$loop$prop$line$4:d.$jscomp$loop$prop$line$4},e=b.next()){d.$jscomp$loop$prop$line$4=e.value;e=a.insertRow();for(var g=$jscomp.makeIterator(c),f=g.next();!f.done;f=g.next()){f=f.value;"undefined"!==typeof f.isNewLine&&!0===f.isNewLine&&(e=a.insertRow());var k=e.insertCell(),l=!1;if(Array.isArray(f.field[0])){l=!0;var h=f.field[0].map(function(a){return function(b){return a.$jscomp$loop$prop$line$4[b]}}(d))}else h=
d.$jscomp$loop$prop$line$4[f.field[0]];"undefined"!==typeof f.format&&(h=f.format.apply(null,l?h:[h]));k.innerHTML=h;for(var m in f.field[1])k.setAttribute(m,f.field[1][m])}}})(d,a,b);c.showHead&&e(d,b);delete c.showHead;for(var g in c)d.setAttribute(g,c[g]);return d}}).apply(Quinen);
(function(){this.onLoad=function(){this.listenOnCloseTabLink();this.updateFromInputValue();this.listenOnClearForm();this.listenOnDropdownMenu();this.initSelect2();this.initDatepicker();this.listenForLoading();this.initPopover();this.listenOnClickTabName();this.listenOnSubmitCloseTab();this.listenOnClickDataHref()};this.onBeforeSendAjaxLink=function(a,b){a=$(a.currentTarget);a.data("oldHtml",a.html());a.html('<i class="fa fa-circle-notch fa-spin fa-lg"></i>')};this.onSuccessAjaxLink=function(a,b,c,
d){a=$(a.currentTarget);0<b.length?a.html(b):a.html(a.data("oldHtml"))};this.onErrorAjaxLink=function(a,b,c,d){403===b.status&&document.location.reload(!0);$(a.currentTarget).html(b.status+" ("+d+")")};this.onBeforeSendTabLink=function(a,b){var c=$(a.currentTarget),d=c.attr("id");if(0<$("#t-"+d).length)return"1"==c.data("showOnClick")&&$("#t-"+d+" > a").tab("show"),!1;QuinenCake.onBeforeSendAjaxLink(a,b);return!0};this.addTab=function(a,b,c){c=Quinen.optionsDefault(c,{id:Quinen.uuid(),target:document,
parent:0,showOnClick:!0});var d=$(c.target);if(0===$("#t-"+c.id).length){d=d.parents(".card").eq(c.parent).find("ul.card-header-tabs:first");var e=$("#c-"+d.attr("id"));a=$('<li class="nav-item" id="t-'+c.id+'"><a href="#" data-toggle="tab" data-target="#c-'+c.id+'" class="nav-link"><span>'+a+'</span>&nbsp;<button data-remove="'+c.id+'" type="button" class="close" aria-label="Fermer"><span aria-hidden="1"><i class="fa fa-times fa-fw"></i></span></button></a></li>');b=$('<div class="tab-pane" id="c-'+
c.id+'">'+b+"</div>");d.append(a);e.append(b);b=$("#c-"+c.id).find(".tab-link-title").html();"undefined"!==typeof b&&0<b.length&&$("#t-"+c.id+" > a > span").html(b);c.showOnClick&&$("#t-"+c.id+" > a").tab("show")}};this.onSuccessTabLink=function(a,b,c,d){var e=$(a.currentTarget);QuinenCake.addTab(e.data("oldHtml"),b.content,{id:e.attr("id"),target:a.currentTarget,parent:e.data("parent"),showOnClick:e.data("showOnClick")});QuinenCake.onSuccessAjaxLink(a,"",c,d);QuinenCake.initSelect2()};this.onErrorTabLink=
function(a,b,c,d){console.dir(arguments);var e=$(a.currentTarget);QuinenCake.addTab(b.status+" ("+d+")",b.responseText,{id:e.attr("id"),target:a.currentTarget,parent:e.data("parent"),showOnClick:e.data("showOnClick")});QuinenCake.onErrorAjaxLink(a,b,c,d)};this.listenOnCloseTabLink=function(){$("ul.nav-tabs").on("click","li a .close",function(){var a=$(this).data("remove"),b=$(this).parents("ul:first");$("#t-"+a).remove();$("#c-"+a).remove();b.find("li:last-child a").tab("show")})};this.onBeforeSendTrLink=
function(a,b){var c=$(a.currentTarget);if(c.data("isNextTr"))return c.data("isNextTr",!1),c.closest("tr").next().remove(),"undefined"!==typeof c.data("newTrHtml")&&(c.data("oldHtml",c.data("oldTrHtml")),QuinenCake.onSuccessAjaxLink(a,"",null,b)),!1;QuinenCake.onBeforeSendAjaxLink(a,b)};this.onSuccessTrLink=function(a,b,c,d){var e=$(a.currentTarget),g=e.closest("tr"),n=g.children().length;e.data("isNextTr",!0);g.after('<tr><td colspan="'+n+'">'+b+"</td></tr>");"undefined"!==typeof e.data("newTrHtml")&&
(e.data("oldTrHtml",e.data("oldHtml")),e.data("oldHtml",e.data("newTrHtml")));QuinenCake.onSuccessAjaxLink(a,"",c,d);return!0};this.onBeforeSendModalLink=function(a,b){var c=$(a.currentTarget);QuinenCake.onBeforeSendAjaxLink(a,b);c.data("size")&&$("#linkModal").find(".modal-dialog").addClass("modal-"+c.data("size"))};this.onSuccessModalLink=function(a,b,c,d){QuinenCake.onSuccessAjaxLink(a,"",c,d);$("#linkModal").find(".modal-body").html(b);$("#linkModal").modal({});return!0};this.redirectPaginatorLink=
function(){$(document).on("click",".paginator-container a",function(){$(this).parents(".paginator-container:first").append('<div class="w-100 h-100 text-center position-absolute bg-secondary" style="top:0;opacity: .5"><br/><br/><br/><i class="fa fa-circle-notch fa-spin fa-10x"></i></div>');var a=$(this).attr("href");if(!a||"#"==a)return!1;$(".paginator-container").load(a,function(){for(var a=this.getElementsByTagName("script"),c=0;c<a.length;c++)"undefined"!==typeof a[c]&&$.globalEval(a[c].innerHTML)});
return!1})};this.drawChart=function(){$("[data-chart]").each(function(a,b){a=b.getContext("2d");return new Chart(a,JSON.parse(b.dataset.chart))})};this.initSelect2=function(){$("select").select2({theme:"bootstrap4",language:"fr",allowClear:!0,placeholder:"",dropdownAutoWidth:!0,escapeMarkup:function(a){return a},templateResult:function(a){return a.html||a.text},templateSelection:function(a){return a.text}}).on("select2:opening",function(){QuinenCake.showLoading=!1}).on("select2:close",function(){QuinenCake.showLoading=
!0}).maximizeSelect2Height()};this.updateFromInputValue=function(){$("[data-from-input-value]").each(function(a,b){a=document.getElementById(this.dataset.fromInputValue.replace(/[._]/g,"-"));$(a).keyup(function(a){b.innerHTML=a.target.value})})};this.listenOnClearForm=function(){$("[data-clear-form]").click(function(a){a=a.target.form.elements;for(var b=0;b<a.length;b++){var c=a.item(b);switch(c.type){case "hidden":break;case "radio":c.checked=!1;default:c.value=""}}})};this.listenOnDropdownMenu=
function(){$(".dropdown-menu .dropdown-toggle").on("click",function(a){$(this).next().hasClass("show")||$(this).parents(".dropdown-menu").first().find(".show").removeClass("show");$(this).next(".dropdown-menu").toggleClass("show");$(this).parents(".nav-item.dropdown.show").on("hidden.bs.dropdown",function(a){$(".dropdown-submenu .show").removeClass("show")});return!1})};this.delayedMap=function(a,b,c){function d(){!a.length||e>=a.length||!1===c(a[e],e,a)||(++e,setTimeout(d,b))}var e=0;setTimeout(d,
b)};this.getDatePlaceholder=function(a){var b=moment().locale(a)._locale;a=b._longDateFormat.L;var c=b._relativeTime.dd.split(" ")[1][0],d=b._relativeTime.MM.split(" ")[1][0];b=b._relativeTime.yy.split(" ")[1][0];return a.replace(/D/g,c).replace(/M/g,d).replace(/Y/g,b)};this.initDatepicker=function(){var a=QuinenCake.getDatePlaceholder("fr");$('[data-toggle="datetimepicker"]').each(function(){var b=$(this),c=$(b.data("date")),d=null;c.val().length&&(d=new Date(c.val()));b.val(moment(d).format("L"));
b.attr("placeholder",a);b.datetimepicker({format:"L",locale:"fr"});b.on("change.datetimepicker",function(a){var b="";"undefined"!==typeof a.date&&(b=a.date.toISOString(!0).split("T")[0]);c.val(b)});c.change(function(a){})})};this.startLoading=function(){QuinenCake.showLoading&&($("#loadingModal").modal({backdrop:"static"}),$("#loadingProgress").show())};this.stopLoading=function(){$("#loadingModal").modal("hide");$("#loadingProgress").hide()};this.showLoading=!0;this.listenForLoading=function(){var a=
this;$(document).ajaxStart(function(){a.startLoading()}).ajaxStop(function(){a.stopLoading()});$("form").submit(function(){a.startLoading()})};this.initPopover=function(){$('[data-toggle="popover"]').popover();$('[data-toggle="popover"]').on("shown.bs.popover",function(){setTimeout(function(){$('[data-toggle="popover"]').popover("hide")},1E3)})};this.listenOnClickTabName=function(){$("a[data-toggle]").on("shown.bs.tab",function(a){$('a[data-name="'+a.target.dataset.name+'"]').tab("show")})};this.renderFlash=
function(a){$(".alert-dismissible").remove();return a.map(function(a){return'<div class="alert alert-'+(a.params.class||"danger")+' alert-dismissible fade show" role="alert">\n'+a.message+'  <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n    <span aria-hidden="true">&times;</span>\n  </button>\n</div>'}).join("")};this.listenOnSubmitCloseTab=function(){var a=this;$("form[data-close-tab-on-submit=1]").on("submit",function(b){var c=$(this);$.ajax({beforeSend:function(a){a.setRequestHeader("Content-type",
"application/x-www-form-urlencoded")},type:c.attr("method"),url:c.attr("action"),data:c.serialize()}).done(function(a,b,g){c.parents(".container-fluid:first").prepend(QuinenCake.renderFlash(a._message));a=c.parents(".tab-pane:first").attr("id");$('a[data-target="#'+a+'"] .close').click()}).fail(function(a){c.parents(".container-fluid:first").prepend(QuinenCake.renderFlash(a._message));console.dir(arguments);c.prepend(a.content)});a.stopLoading();b.preventDefault();b.stopPropagation()})};this.listenOnClickDataHref=
function(){$("a[data-href]").on("click",function(a){var b=a.target.dataset.link||"ajax";b=b.charAt(0).toUpperCase()+b.slice(1);$.ajax({url:a.target.dataset.href,beforeSend:function(c,d){console.log(b,"beforeSend");QuinenCake["onBeforeSend"+b+"Link"].apply(QuinenCake,[a,c])}}).done(function(c,d,e){console.log(b,"done");QuinenCake["onSuccess"+b+"Link"].apply(QuinenCake,[a,c,d,e])}).fail(function(c,d,e){console.log(b,"fail");QuinenCake["onError"+("Tab"===b?b:"Ajax")+"Link"].apply(QuinenCake,[a,c,d,e])})})}}).apply(QuinenCake);
$(function(){QuinenCake.onLoad()});
moment.updateLocale("fr",{months:"janvier f\u00e9vrier mars avril mai juin juillet ao\u00fbt septembre octobre novembre d\u00e9cembre".split(" "),monthsShort:"janv. f\u00e9vr. mars avr. mai juin juil. ao\u00fbt sept. oct. nov. d\u00e9c.".split(" "),monthsParseExact:!0,weekdays:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),weekdaysShort:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),weekdaysMin:"di lu ma me je ve sa".split(" "),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",
L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \u00e0] LT",nextDay:"[Demain \u00e0] LT",nextWeek:"dddd [\u00e0] LT",lastDay:"[Hier \u00e0] LT",lastWeek:"dddd [dernier \u00e0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,
ordinal:function(a,b){switch(b){case "D":return a+(1===a?"er":"");default:case "M":case "Q":case "DDD":case "d":return a+(1===a?"er":"e");case "w":case "W":return a+(1===a?"re":"e")}},week:{dow:1,doy:4}});
